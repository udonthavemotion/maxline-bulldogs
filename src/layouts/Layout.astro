---
import SEOHead from '../components/SEOHead.astro';

export interface Props {
  title: string;
  description: string;
  keywords?: string;
  image?: string;
  type?: 'website' | 'article' | 'product';
  price?: string;
  category?: string;
  darkMode?: boolean;
  heroVideo?: boolean;
}

const { title, description, keywords, image, type, price, category, darkMode = true, heroVideo = false } = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class={darkMode ? "dark" : ""}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <meta name="color-scheme" content="dark light" />
    <meta name="theme-color" content="#D4AF37" />
    
    <!-- Comprehensive SEO Component -->
    <SEOHead 
      title={title}
      description={description}
      keywords={keywords}
      image={image}
      type={type}
      price={price}
      category={category}
    />
    
    <!-- Luxury Fonts with display optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    
    <!-- Performance and PWA meta tags -->
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
  </head>
  <body class="bg-charcoal text-white font-inter overflow-x-hidden">
    <!-- Enhanced Navigation with cinematic backdrop -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur border-b border-accent/20 transition-all duration-300" id="navbar">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <!-- Enhanced Logo with gradient -->
          <div class="flex-shrink-0">
            <a href="/" class="logo-brand group" aria-label="Maxline Bulldogs Home">
              <span class="text-2xl font-playfair font-bold bg-gradient-to-r from-accent via-yellow-500 to-accent bg-clip-text text-transparent group-hover:from-yellow-400 group-hover:to-accent transition-all duration-300">
                Maxline Bulldogs
              </span>
              <div class="h-0.5 bg-gradient-to-r from-transparent via-accent to-transparent scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
            </a>
          </div>
          
          <!-- Enhanced Desktop Navigation -->
          <div class="hidden md:block">
            <div class="ml-10 flex items-baseline space-x-1">
              <a href="/" class="nav-link" aria-current="page">
                <span>🏠</span> Home
              </a>
              <a href="/studs" class="nav-link">
                <span>🐕</span> Studs
              </a>
              <a href="/puppies" class="nav-link">
                <span>🐶</span> Puppies
              </a>
              <a href="/about" class="nav-link">
                <span>ℹ️</span> About
              </a>
              <a href="/contact" class="nav-link">
                <span>📞</span> Contact
              </a>
              <a href="/admin" class="nav-link admin-link">
                <span>⚙️</span> Admin
              </a>
            </div>
          </div>
          
          <!-- Enhanced Mobile menu button with accessibility -->
          <div class="md:hidden">
            <button 
              class="mobile-menu-button text-accent hover:text-silver focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 focus:ring-offset-charcoal p-2 rounded-lg transition-all duration-200" 
              aria-label="Toggle mobile menu"
              aria-expanded="false"
            >
              <svg class="h-6 w-6 transition-transform duration-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path class="hamburger-line" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Enhanced Mobile Navigation with animations -->
      <div class="md:hidden mobile-menu hidden transform transition-all duration-300 ease-in-out">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 nav-blur border-t border-accent/20">
          <a href="/" class="mobile-nav-link" role="menuitem">
            <span>🏠</span> Home
          </a>
          <a href="/studs" class="mobile-nav-link" role="menuitem">
            <span>🐕</span> Studs
          </a>
          <a href="/puppies" class="mobile-nav-link" role="menuitem">
            <span>🐶</span> Puppies
          </a>
          <a href="/about" class="mobile-nav-link" role="menuitem">
            <span>ℹ️</span> About
          </a>
          <a href="/contact" class="mobile-nav-link" role="menuitem">
            <span>📞</span> Contact
          </a>
          <a href="/admin" class="mobile-nav-link admin-link" role="menuitem">
            <span>⚙️</span> Admin
          </a>
        </div>
      </div>
    </nav>

    <!-- Cinematic Background Elements -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden z-0">
      <!-- Animated gradient overlay -->
      <div class="absolute inset-0 bg-gradient-to-br from-charcoal via-obsidian to-charcoal opacity-95"></div>
      
      <!-- Subtle pattern overlay -->
      <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle at 2px 2px, #D4AF37 1px, transparent 0); background-size: 40px 40px;"></div>
      
      <!-- Floating accent elements -->
      <div class="absolute top-20 left-10 w-2 h-2 bg-accent rounded-full animate-float opacity-30"></div>
      <div class="absolute top-40 right-20 w-1 h-1 bg-accent rounded-full animate-float-delayed opacity-20"></div>
      <div class="absolute bottom-40 left-1/4 w-1.5 h-1.5 bg-accent rounded-full animate-float-slow opacity-25"></div>
    </div>

    <!-- Main Content with enhanced spacing -->
    <main class="relative z-10 pt-16 min-h-screen">
      <slot />
    </main>

    <!-- Enhanced Footer with gradient -->
    <footer class="relative z-10 bg-gradient-to-t from-obsidian to-charcoal border-t border-accent/20 mt-16 overflow-hidden">
      <!-- Footer background accent -->
      <div class="absolute inset-0 bg-gradient-to-br from-accent/5 to-transparent"></div>
      
      <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <!-- Enhanced Brand Section -->
          <div class="md:col-span-2">
            <div class="flex items-center gap-3 mb-4">
              <div class="w-12 h-12 bg-gradient-to-br from-accent to-yellow-600 rounded-lg flex items-center justify-center">
                <span class="text-2xl">🐕</span>
              </div>
              <div>
                <h3 class="text-2xl font-playfair font-bold text-accent">Maxline Bulldogs</h3>
                <p class="text-silver text-sm">Where Legends Are Bred</p>
              </div>
            </div>
            <p class="text-sm text-gray-400 mb-4 leading-relaxed">
              Premium AKC Mini English Bulldogs from Champion Bloodlines in partnership with HorrorBullz HQ. 
              Experience the finest breeding quality and exceptional care.
            </p>
            <div class="flex items-center gap-2 text-sm">
              <span class="text-accent">✨</span>
              <span class="text-silver">Powered by</span>
              <span class="font-semibold text-accent">HorrorBullz HQ</span>
            </div>
          </div>
          
          <!-- Enhanced Quick Links -->
          <div>
            <h4 class="font-playfair font-semibold text-accent mb-4 relative">
              Quick Links
              <div class="absolute -bottom-1 left-0 w-8 h-0.5 bg-gradient-to-r from-accent to-transparent"></div>
            </h4>
            <ul class="space-y-3 text-sm">
              <li><a href="/studs" class="footer-link">🐕 Our Studs</a></li>
              <li><a href="/puppies" class="footer-link">🐶 Available Puppies</a></li>
              <li><a href="/about" class="footer-link">ℹ️ About Us</a></li>
              <li><a href="/contact" class="footer-link">📞 Contact</a></li>
              <li><a href="/admin" class="footer-link admin-link">⚙️ Admin Panel</a></li>
            </ul>
          </div>
          
          <!-- Enhanced Contact Info -->
          <div>
            <h4 class="font-playfair font-semibold text-accent mb-4 relative">
              Contact
              <div class="absolute -bottom-1 left-0 w-8 h-0.5 bg-gradient-to-r from-accent to-transparent"></div>
            </h4>
            <div class="space-y-3 text-sm text-silver">
              <p class="flex items-center gap-2">
                <span class="text-accent">📧</span>
                <a href="mailto:info@maxlinebulldogs.com" class="hover:text-accent transition-colors">
                  info@maxlinebulldogs.com
                </a>
              </p>
              <p class="flex items-center gap-2">
                <span class="text-accent">📱</span>
                <a href="tel:+15551234567" class="hover:text-accent transition-colors">
                  (555) 123-4567
                </a>
              </p>
              <p class="flex items-center gap-2">
                <span class="text-accent">🌐</span>
                <span>Follow us on social media</span>
              </p>
            </div>
          </div>
        </div>
        
        <div class="border-t border-accent/20 mt-8 pt-8 text-center text-sm text-gray-400">
          <p class="flex items-center justify-center gap-1 flex-wrap">
            <span>&copy; 2024 Maxline Bulldogs. All rights reserved.</span>
            <span class="text-accent">•</span>
            <span>Partnership with HorrorBullz HQ</span>
            <span class="text-accent">•</span>
            <span>Built with ❤️ and Astro</span>
          </p>
        </div>
      </div>
    </footer>

    <!-- Enhanced Global Styles -->
    <style>
      :root {
        --primary: #0f0f0f;
        --secondary: #1a1a1a;
        --charcoal: #0f0f0f;
        --obsidian: #0c0c0c;
        --accent: #D4AF37;
        --silver: #c0c0c0;
        --gold: rgba(212, 175, 55, 0.3);
      }
      
      * {
        box-sizing: border-box;
      }
      
      html {
        scroll-behavior: smooth;
        scroll-padding-top: 4rem;
      }
      
      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: 
          radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 30%),
          radial-gradient(circle at 80% 20%, rgba(212, 175, 55, 0.05) 0%, transparent 30%),
          linear-gradient(135deg, var(--charcoal) 0%, var(--obsidian) 50%, var(--charcoal) 100%);
        min-height: 100vh;
        background-attachment: fixed;
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      /* Enhanced Navigation Styles */
      .nav-blur {
        background: rgba(15, 15, 15, 0.9);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }
      
      .nav-link {
        @apply text-silver hover:text-accent px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 relative flex items-center gap-2;
        background: linear-gradient(135deg, transparent 0%, rgba(212, 175, 55, 0.1) 100%);
        background-size: 0% 100%;
        background-repeat: no-repeat;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .nav-link:hover {
        background-size: 100% 100%;
        transform: translateY(-1px);
        text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
      }
      
      .nav-link.admin-link {
        @apply bg-gradient-to-r from-accent/20 to-yellow-600/20 border border-accent/30;
      }
      
      .mobile-nav-link {
        @apply text-silver hover:text-accent block px-4 py-3 rounded-lg text-base font-medium transition-all duration-300 flex items-center gap-3;
        border-left: 3px solid transparent;
      }
      
      .mobile-nav-link:hover {
        @apply bg-accent/10 border-l-accent transform translate-x-1;
      }
      
      .footer-link {
        @apply text-silver hover:text-accent transition-all duration-300 flex items-center gap-2;
        position: relative;
      }
      
      .footer-link::before {
        content: '';
        position: absolute;
        left: -8px;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 0;
        background: var(--accent);
        transition: height 0.3s ease;
      }
      
      .footer-link:hover::before {
        height: 100%;
      }
      
      /* Enhanced Animations */
      @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        33% { transform: translateY(-10px) rotate(120deg); }
        66% { transform: translateY(-5px) rotate(240deg); }
      }
      
      @keyframes float-delayed {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        33% { transform: translateY(-8px) rotate(-120deg); }
        66% { transform: translateY(-12px) rotate(-240deg); }
      }
      
      @keyframes float-slow {
        0%, 100% { transform: translateY(0px) scale(1); }
        50% { transform: translateY(-15px) scale(1.1); }
      }
      
      .animate-float {
        animation: float 6s ease-in-out infinite;
      }
      
      .animate-float-delayed {
        animation: float-delayed 8s ease-in-out infinite 2s;
      }
      
      .animate-float-slow {
        animation: float-slow 10s ease-in-out infinite 4s;
      }
      
      /* Accessibility and Focus States */
      .nav-link:focus,
      .mobile-nav-link:focus,
      .footer-link:focus {
        outline: 2px solid var(--accent);
        outline-offset: 2px;
        border-radius: 6px;
      }
      
      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 12px;
      }
      
      ::-webkit-scrollbar-track {
        background: var(--charcoal);
        border-radius: 6px;
      }
      
      ::-webkit-scrollbar-thumb {
        background: linear-gradient(180deg, var(--accent) 0%, #B8941F 100%);
        border-radius: 6px;
        border: 2px solid var(--charcoal);
      }
      
      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(180deg, #FFD700 0%, var(--accent) 100%);
      }
      
      /* Reduced Motion Support */
      @media (prefers-reduced-motion: reduce) {
        *, *::before, *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
        
        html {
          scroll-behavior: auto;
        }
      }
      
      /* High Contrast Mode Support */
      @media (prefers-contrast: high) {
        .nav-blur {
          background: rgba(0, 0, 0, 0.95);
          border-bottom: 2px solid var(--accent);
        }
      }
      
      /* Print Styles */
      @media print {
        nav, footer, .floating-elements {
          display: none;
        }
        
        body {
          background: white;
          color: black;
        }
      }
    </style>

    <!-- Enhanced Mobile Menu Script with accessibility -->
    <script>
      // Enhanced mobile menu toggle with accessibility
      const mobileMenuButton = document.querySelector('.mobile-menu-button');
      const mobileMenu = document.querySelector('.mobile-menu');
      const hamburgerLines = document.querySelector('.hamburger-line');
      
      let isMenuOpen = false;
      
      function toggleMobileMenu() {
        isMenuOpen = !isMenuOpen;
        mobileMenu?.classList.toggle('hidden');
        mobileMenuButton?.setAttribute('aria-expanded', isMenuOpen.toString());
        
        // Animate hamburger to X
        if (hamburgerLines && isMenuOpen) {
          hamburgerLines.setAttribute('d', 'M6 18L18 6M6 6l12 12');
        } else if (hamburgerLines) {
          hamburgerLines.setAttribute('d', 'M4 6h16M4 12h16M4 18h16');
        }
      }
      
      mobileMenuButton?.addEventListener('click', toggleMobileMenu);
      
      // Close mobile menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!mobileMenuButton?.contains(e.target as Node) && !mobileMenu?.contains(e.target as Node)) {
          if (isMenuOpen) {
            toggleMobileMenu();
          }
        }
      });
      
             // Close menu on escape key
       document.addEventListener('keydown', (e) => {
         if (e.key === 'Escape' && isMenuOpen) {
           toggleMobileMenu();
           (mobileMenuButton as HTMLElement)?.focus();
         }
       });
      
      // Enhanced navbar scroll effect
      let lastScrollY = window.scrollY;
      const navbar = document.getElementById('navbar');
      
      function updateNavbar() {
        const scrollY = window.scrollY;
        
        if (navbar) {
          // Add/remove scrolled class for styling
          if (scrollY > 50) {
            navbar.classList.add('scrolled');
          } else {
            navbar.classList.remove('scrolled');
          }
          
          // Hide/show navbar on scroll
          if (scrollY > lastScrollY && scrollY > 100) {
            navbar.style.transform = 'translateY(-100%)';
          } else {
            navbar.style.transform = 'translateY(0)';
          }
        }
        
        lastScrollY = scrollY;
      }
      
      // Throttled scroll listener
      let ticking = false;
      window.addEventListener('scroll', () => {
        if (!ticking) {
          requestAnimationFrame(() => {
            updateNavbar();
            ticking = false;
          });
          ticking = true;
        }
      });
      
      // Smooth scrolling for anchor links with offset
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener('click', function (this: HTMLAnchorElement, e: Event) {
          e.preventDefault();
          const href = this.getAttribute('href');
          if (href) {
            const target = document.querySelector(href);
            if (target) {
              const offset = 80; // Account for fixed navbar
              const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - offset;
              
              window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
              });
            }
          }
        });
      });
      
      // Add active state to current page navigation
      const currentPath = window.location.pathname;
      document.querySelectorAll('.nav-link, .mobile-nav-link').forEach((link) => {
        const href = link.getAttribute('href');
        if (href === currentPath || (currentPath === '/' && href === '/')) {
          link.classList.add('active');
          link.setAttribute('aria-current', 'page');
        }
      });
    </script>
  </body>
</html> 